# 堆结构

## 简介

在数据结构中，堆可以理解成一种特殊的树形结构，通常我们把堆看成是一个完全二叉树结构，堆通常用于排序算法中，对于 *Top K* 问题的处理有着极大的作用，举一个简单的问题用于引出我们的堆，例如现在我需要班上前5名的成绩，假定你是老师，你会很自然的在成绩单上一个一个按成绩大小寻找，找到第五名时就停止查找，即使这个成绩单是无序的，这就很明显体现了一个问题，对于*Top K*，我们完全没有必要关系K之后的数据是什么，因此在排序中，巧妙的利用堆可以让你的算法提前终止。堆根据存储规则的不同，我们将堆结构分为大根堆（又称大顶堆）和小根堆（又称小顶堆）。

## 堆的存储规则

对于堆的存储分为两种，对于大根堆，每一个父节点均不小于子节点；对于小根堆，每一个父节点则不大于子节点。同时堆又是一个完全二叉树结构，那么在堆的树中，插入数据默认均为从左往右的顺序进行插入。不过通常而言，我们并不会真的构建一个完全二叉树进行存储堆的内容，因为完全二叉树的特性，我们可以很轻易的将数组看成一个堆，这里我们可以轻松的定义

对于任意的数组array[]，我们将其看成是一颗完全二叉树层序遍历的序列，那么定义：

1. 节点array[i] 的父节点为*i==0 ? null : array[i-1/2]*
2. 节点array[i]的左孩子为，*array[2*i + 1]*
3. 节点array[i]的右孩子为，*array[2*i + 2]*

这样我们的数组就可以当成一个完全二叉树看待了，那么再考虑堆的定义：

假定前提0 <= i < (n-1)/2

1. 满足*array[i] <= array[2i + 1]* 且 *array[i] <= array[2i + 2]* 为小根堆。
2. 满足*array[i] >= array[2i + 1]* 且 *array[i] >= array[2i + 2]* 为大根堆。

这样我们就可以称我们的数组为一个堆了，不过通常而言，并没有太多数组符合这个条件，因此我们接下来就需要堆化我们的数组

## 堆化数组

堆化数组的意思就是将一个普通的数组将其变成一个符合堆结构的数组，这样就可以将数组看成堆了，这个过程就被成为堆化数组。

### 大根堆的堆化

### 小根堆的堆化

## 堆排序

## 思考Top K问题

